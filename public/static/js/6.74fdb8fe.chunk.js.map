{"version":3,"sources":["components/ListErrors.js","components/Certificate/AddCertificate.js"],"names":["ListErrors","errors","this","props","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","Object","keys","map","key","React","PureComponent","AddCertificate","_this","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","onChangeField","ev","submitForm","preventDefault","onSubmit","certificate","onLoad","onUnload","_this$props$certifica","vessel_id","name","description","group","issue","expiry","renewals","options","vessels","item","react__WEBPACK_IMPORTED_MODULE_6___default","id","value","_ListErrors__WEBPACK_IMPORTED_MODULE_5__","onChange","type","placeholder","disabled","inProgress","connect","state","common","dispatch","ADD_CERTIFICATE_PAGE_LOADED","payload","agent","Vessels","all","evt","UPDATE_FIELD_CERTIFICATE","target","ADD_CERTIFICATE","Certificates","save","ADD_CERTIFICATE_PAGE_UNLOADED"],"mappings":"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","file":"static/js/6.74fdb8fe.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass ListErrors extends React.PureComponent {\r\n  render() {\r\n    const errors = this.props.errors;\r\n    if (errors) {\r\n      return (\r\n        <ul className=\"error-messages\">\r\n          {\r\n            Object.keys(errors).map(key => {\r\n              return (\r\n                <li key={key}>\r\n                  {key} {errors[key]}\r\n                </li>\r\n              );\r\n            })\r\n          }\r\n        </ul>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ListErrors;\r\n","import ListErrors from './../ListErrors';\r\nimport React from 'react';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\nimport Select from 'react-select'; \r\nimport {\r\n  ADD_CERTIFICATE_PAGE_LOADED,\r\n  ADD_CERTIFICATE_PAGE_UNLOADED,\r\n  ADD_CERTIFICATE,\r\n  UPDATE_FIELD_CERTIFICATE,\r\n} from '../../constants/actionTypes';\r\n\r\nconst mapStateToProps = state => ({ \r\n  certificate: state.certificate,\r\n  vessels: state.common.vessels\r\n });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  // this.props.onLoad( Promise.all([agent.Vessels.all()]) );\r\n\r\n  onLoad: () =>\r\n    dispatch({ type: ADD_CERTIFICATE_PAGE_LOADED, payload: agent.Vessels.all() }),\r\n  onChangeField: (evt) =>\r\n    dispatch({ type: UPDATE_FIELD_CERTIFICATE, key: evt.target.name, value: evt.target.value }),\r\n  onSubmit: (certificate) =>\r\n    dispatch({ type: ADD_CERTIFICATE, payload: agent.Certificates.save(certificate) }),\r\n  onUnload: () =>\r\n    dispatch({ type: ADD_CERTIFICATE_PAGE_UNLOADED })\r\n});\r\n\r\nclass AddCertificate extends React.PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.onChangeField = ev => this.props.onChangeField(ev);\r\n    this.submitForm = ev => {\r\n      ev.preventDefault();\r\n      this.props.onSubmit(this.props.certificate);\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.onLoad();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload(); \r\n  }\r\n\r\n  render() {\r\n    const { vessel_id, name, description, group, issue, expiry, renewals } = this.props.certificate;\r\n    const options = this.props.vessels && this.props.vessels.map(item => {\r\n      return <option key={item.id} value={item.id}>{item.name}</option>;\r\n    });\r\n\r\n    if(!options) \r\n      return \"\";\r\n\r\n    return (\r\n      <div className=\"auth-page\">\r\n         <div className=\"container page\">\r\n           <div className=\"row\">\r\n\r\n             <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n               <h1 className=\"text-xs-center\">ADD CERTIFICATE</h1>\r\n\r\n               <ListErrors errors={this.props.errors} />\r\n\r\n               <form onSubmit={this.submitForm}>\r\n                 <fieldset>\r\n                   \r\n                  <fieldset className=\"form-group\">\r\n                    <label>Select Vessel</label>\r\n                    <select value={vessel_id} onChange={this.onChangeField} name=\"vessel_id\">\r\n                      <option value=\"\">...select...</option>\r\n                      {options}\r\n                    </select>\r\n                  </fieldset>\r\n\r\n                   <fieldset className=\"form-group\">\r\n                    <label>Name</label>\r\n                     <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"text\"\r\n                      placeholder=\"Name\"\r\n                      value={name}\r\n                      name=\"name\"\r\n                      onChange={this.onChangeField} \r\n                      />\r\n                  </fieldset>\r\n\r\n                  <fieldset className=\"form-group\">\r\n                    <label>Description</label>\r\n                     <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"text\"\r\n                      placeholder=\"Description\"\r\n                      value={description}\r\n                      name=\"description\"\r\n                      onChange={this.onChangeField} \r\n                      />\r\n                  </fieldset>\r\n\r\n                  <fieldset className=\"form-group\">\r\n                    <label>Group</label>\r\n                     <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"text\"\r\n                      placeholder=\"Group\"\r\n                      value={group}\r\n                      name=\"group\"\r\n                      onChange={this.onChangeField} \r\n                      />\r\n                  </fieldset>\r\n\r\n                  <fieldset className=\"form-group\">\r\n                    <label>Issue Date</label>\r\n                     <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"date\"\r\n                      placeholder=\"Issue Date\"\r\n                      value={issue}\r\n                      name=\"issue\"\r\n                      onChange={this.onChangeField} \r\n                      />\r\n                  </fieldset>\r\n\r\n                  <fieldset className=\"form-group\">\r\n                    <label>Expiry Date</label>\r\n                     <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"date\"\r\n                      placeholder=\"Expiry Date\"\r\n                      value={expiry}\r\n                      name=\"expiry\"\r\n                      onChange={this.onChangeField} \r\n                      />\r\n                  </fieldset>\r\n\r\n                  <fieldset className=\"form-group\">\r\n                    <label>Renewals</label>\r\n                     <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"text\"\r\n                      placeholder=\"Renewal Frequency\"\r\n                      value={renewals}\r\n                      name=\"renewals\"\r\n                      onChange={this.onChangeField} \r\n                      />\r\n                  </fieldset>\r\n\r\n                  <button\r\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\r\n                    type=\"submit\"\r\n                    disabled={this.props.inProgress}>\r\n                    Add Certificate\r\n                  </button>\r\n\r\n                </fieldset>\r\n              </form>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddCertificate);"],"sourceRoot":""}
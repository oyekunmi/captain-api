{"version":3,"sources":["components/Home/Banner.js","components/CertificateList.js","components/Home/MainView.js","components/Home/index.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","React","memo","_ref","appName","token","a","createElement","className","toLowerCase","CertificateList","props","loading","react_default","certificates","length","items","map","item","index","key","id","style","border","name","issue","expiry","state","width","borderCollapse","MainView","href","tab","onClick","ev","preventDefault","onTabClick","agent","Articles","feed","vessel","components_CertificateList","connect","Object","objectSpread","tags","home","common","dispatch","payload","type","CHANGE_TAB","Promise","global","Home","_this","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","onVesselClicked","loadCertificates","onLoad","all","Vessels","onUnload","_this2","vessels","forEach","push","react__WEBPACK_IMPORTED_MODULE_8___default","value","_Banner__WEBPACK_IMPORTED_MODULE_6__","_MainView__WEBPACK_IMPORTED_MODULE_7__","PureComponent","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","HOME_PAGE_LOADED","HOME_PAGE_UNLOADED","LOAD_CERTIFICATES","Certificates","byVessel"],"mappings":"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","file":"static/js/Home.3e4aaa8f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Banner = ({ appName, token }) => {\r\n  if (token) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"banner\">\r\n      <div className=\"container\">\r\n        <h1 className=\"logo-font\">\r\n          {appName.toLowerCase()}\r\n        </h1>\r\n        <p>A place to share your knowledge.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Banner);\r\n","import React from 'react';\r\n\r\nconst CertificateList = React.memo(props => {\r\n  if (props.loading) {\r\n    return (\r\n      <div className=\"article-preview\">Loading...</div>\r\n    );\r\n  }\r\n\r\n  if (!props.certificates || props.certificates.length===0) {\r\n    return (\r\n      <div className=\"article-preview\">\r\n        No certificates are here... yet.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const items = props.certificates.map( (item,index) => {\r\n    return (\r\n      <tr key={item.id}>\r\n        <td style={{border: '1px solid #CCC'}}>{index+1}</td>\r\n        <td style={{border: '1px solid #CCC'}}>{item.name}</td>\r\n        <td style={{border: '1px solid #CCC'}}>{item.issue}</td>\r\n        <td style={{border: '1px solid #CCC'}}>{item.expiry}</td>\r\n        <td style={{border: '1px solid #CCC'}}>{item.state}</td>\r\n      </tr>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"article-preview\">\r\n      <table style={{width: '100%', borderCollapse: 'collapse'}}>\r\n        <thead>\r\n          <tr>\r\n          <th style={{border: '1px solid #CCC'}}>SN</th>\r\n          <th style={{border: '1px solid #CCC'}}>Name</th>\r\n          <th style={{border: '1px solid #CCC'}}>Issue</th>\r\n          <th style={{border: '1px solid #CCC'}}>Expiry</th>\r\n          <th style={{border: '1px solid #CCC'}}>Status</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {items}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* <ListPagination\r\n        pager={props.pager}\r\n        articlesCount={props.articlesCount}\r\n        currentPage={props.currentPage} /> */}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default CertificateList;\r\n","import React from 'react';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\nimport { CHANGE_TAB } from '../../constants/actionTypes';\r\nimport CertificateList from '../CertificateList';\r\n\r\nconst ExpiringTab = React.memo(props =>{\r\n  const clickHandler = ev => {\r\n    ev.preventDefault();\r\n    props.onTabClick('expiring', agent.Articles.feed, agent.Articles.feed());\r\n  }\r\n\r\n  return (\r\n    <li className=\"nav-item\">\r\n      <a  href=\"#/\"\r\n          className={ props.tab === 'expiring' ? 'nav-link active' : 'nav-link' }\r\n          onClick={clickHandler}>\r\n        Expiring Certificates\r\n      </a>\r\n    </li>\r\n  );\r\n});\r\n\r\nconst ExpiredTab = React.memo(props => {\r\n  const clickHandler = ev => {\r\n    ev.preventDefault();\r\n    props.onTabClick('expired', agent.Articles.feed, agent.Articles.feed());\r\n  }\r\n\r\n  return (\r\n    <li className=\"nav-item\">\r\n      <a  href=\"#/\"\r\n          className={ props.tab === 'expired' ? 'nav-link active' : 'nav-link' }\r\n          onClick={clickHandler}>\r\n       Expired Certificates\r\n      </a>\r\n    </li>\r\n  );\r\n});\r\n\r\nconst HealthyTab = React.memo(props => {\r\n  const clickHandler = ev => {\r\n    ev.preventDefault();\r\n    props.onTabClick('healthy', agent.Articles.feed, agent.Articles.feed());\r\n  }\r\n\r\n  return (\r\n    <li className=\"nav-item\">\r\n      <a  href=\"#/\"\r\n          className={ props.tab === 'healthy' ? 'nav-link active' : 'nav-link' }\r\n          onClick={clickHandler}>\r\n        Healthy Certificates\r\n      </a>\r\n    </li>\r\n  );\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state,\r\n  tags: state.home.tags,\r\n  token: state.common.token,\r\n  certificates: state.home.certificates,\r\n  vessel: state.home.vessel,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onTabClick: (tab, payload) => dispatch({ type: CHANGE_TAB, tab, payload })\r\n});\r\n\r\nconst MainView = React.memo(props => {\r\n\r\n  if(!props.vessel){\r\n    return (\r\n      <div>\r\n        Select a vessel to see certificates\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <div className=\"col-md-9\">\r\n\r\n      <h2>{props.vessel.name}</h2>\r\n      {/* <div className=\"feed-toggle\">\r\n        <ul className=\"nav nav-pills outline-active\">\r\n\r\n          <ExpiringTab\r\n            token={props.token}\r\n            tab={props.tab}\r\n            onTabClick={props.onTabClick} />\r\n\r\n          <ExpiredTab tab={props.tab} onTabClick={props.onTabClick} />\r\n\r\n          <HealthyTab tag={props.tag} />\r\n\r\n        </ul>\r\n      </div> */}\r\n\r\n      <CertificateList\r\n        certificates={props.certificates}\r\n        loading={props.loading}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(MainView));","import Banner from './Banner';\r\nimport MainView from './MainView';\r\nimport React from 'react';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\n// import { Link } from 'react-router-dom';\r\nimport {\r\n  HOME_PAGE_LOADED,\r\n  HOME_PAGE_UNLOADED,\r\n  LOAD_CERTIFICATES,\r\n} from '../../constants/actionTypes';\r\n\r\nconst Promise = global.Promise;\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.home,\r\n  appName: state.common.appName,  \r\n  token: state.common.token,\r\n  vessels: state.common.vessels\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: (payload) =>\r\n    dispatch({ type: HOME_PAGE_LOADED, payload }),\r\n  onUnload: () =>\r\n    dispatch({  type: HOME_PAGE_UNLOADED }),\r\n  loadCertificates: (vessel) =>\r\n    dispatch({ type: LOAD_CERTIFICATES, payload: Promise.all([vessel, agent.Certificates.byVessel(vessel.id)]) }),\r\n  \r\n});\r\n\r\nclass Home extends React.PureComponent {\r\n\r\n  constructor() {\r\n    super();\r\n    this.onVesselClicked = item => {\r\n      this.props.loadCertificates(item);\r\n    } \r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.onLoad( Promise.all([agent.Vessels.all()]) );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n\r\n  render() {\r\n   \r\n    if(!this.props.vessels){\r\n      return (\"\");\r\n    }\r\n    \r\n    let items = [];\r\n    this.props.vessels.forEach( (item, index)=>{\r\n      items.push(\r\n      <li key={index}>\r\n          <a  href=\"#/\" value={item.id} onClick={()=>this.onVesselClicked(item)}>{item.name}</a>\r\n        {/* <a  href=\"#/\" to={`/users/${item.id}`} activeClassName=\"active\" value={item.id} onClick={this.onVesselClicked}>{item.name}</a> */}\r\n      </li>\r\n\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div className=\"home-page\">\r\n\r\n        <Banner token={this.props.token} appName={this.props.appName} />\r\n\r\n        <div className=\"container page\">\r\n          <div className=\"row\">\r\n          \r\n          <div className=\"col-md-3\">\r\n            <div className=\"sidebar\">\r\n              <p>Vessels</p>\r\n              {items}\r\n            </div>\r\n          </div>\r\n            \r\n            <MainView />\r\n\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n"],"sourceRoot":""}
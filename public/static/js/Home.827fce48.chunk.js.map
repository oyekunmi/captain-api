{"version":3,"sources":["components/Home/Banner.js","components/CertificateList.js","components/Home/MainView.js","components/Home/index.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","React","memo","_ref","appName","token","a","createElement","className","toLowerCase","CertificateList","delete","item","_this","props","deleteCertificate","_this2","this","loading","react_default","certificates","length","items","map","index","key","id","style","border","name","issue","expiry","state","href","value","onClick","width","borderCollapse","PureComponent","connect","dispatch","cert","type","DELETE_CERTIFICATE","payload","Promise","all","agent","Certificates","MainView","vessel","components_CertificateList","Object","objectSpread","tags","home","common","onTabClick","tab","CHANGE_TAB","global","Home","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","onVesselClicked","loadCertificates","onLoad","Vessels","onUnload","vessels","forEach","push","react__WEBPACK_IMPORTED_MODULE_8___default","concat","certificates_count","_Banner__WEBPACK_IMPORTED_MODULE_6__","_MainView__WEBPACK_IMPORTED_MODULE_7__","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","HOME_PAGE_LOADED","HOME_PAGE_UNLOADED","LOAD_CERTIFICATES","byVessel"],"mappings":"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","file":"static/js/Home.827fce48.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Banner = ({ appName, token }) => {\r\n  if (token) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"banner\">\r\n      <div className=\"container\">\r\n        <h1 className=\"logo-font\">\r\n          {appName.toLowerCase()}\r\n        </h1>\r\n        <p>A place to share your knowledge.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Banner);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { DELETE_CERTIFICATE } from '../constants/actionTypes';\r\nimport agent from '../agent';\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  deleteCertificate: (cert) =>\r\n    dispatch({ type: DELETE_CERTIFICATE, payload: Promise.all( [agent.Certificates.delete(cert)] )}),\r\n});\r\n\r\nclass CertificateList extends React.PureComponent{\r\n\r\n  delete = (item) => {\r\n    this.props.deleteCertificate(item);\r\n  }\r\n\r\n  render(){\r\n\r\n    if (this.props.loading) {\r\n      return (\r\n        <div className=\"article-preview\">Loading...</div>\r\n      );\r\n    }\r\n\r\n    if (!this.props.certificates || this.props.certificates.length===0) {\r\n      return (\r\n        <div className=\"article-preview\">\r\n          No certificates are here... yet.\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const items = this.props.certificates.map( (item,index) => {\r\n      return (\r\n        <tr key={item.id}>\r\n          <td style={{border: '1px solid #CCC'}}>{index+1}</td>\r\n          <td style={{border: '1px solid #CCC'}}>{item.name}</td>\r\n          <td style={{border: '1px solid #CCC'}}>{item.issue}</td>\r\n          <td style={{border: '1px solid #CCC'}}>{item.expiry}</td>\r\n          <td style={{border: '1px solid #CCC'}}>{item.state}</td>\r\n          <td style={{border: '1px solid #CCC'}}>\r\n            <a  href=\"#/\" value={item.id} onClick={()=>this.delete(item)}>Delete</a>\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"article-preview\">\r\n        <table style={{width: '100%', borderCollapse: 'collapse'}}>\r\n          <thead>\r\n            <tr>\r\n            <th style={{border: '1px solid #CCC'}}>SN</th>\r\n            <th style={{border: '1px solid #CCC'}}>Name</th>\r\n            <th style={{border: '1px solid #CCC'}}>Issue</th>\r\n            <th style={{border: '1px solid #CCC'}}>Expiry</th>\r\n            <th style={{border: '1px solid #CCC'}}>Status</th>\r\n            <th style={{border: '1px solid #CCC'}}>&nbsp;</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {items}\r\n          </tbody>\r\n        </table>\r\n\r\n        {/* <ListPagination\r\n          pager={this.props.pager}\r\n          articlesCount={this.props.articlesCount}\r\n          currentPage={this.props.currentPage} /> */}\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\nexport default connect(null, mapDispatchToProps)(CertificateList);\r\n","import React from 'react';\r\n// import agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\nimport { CHANGE_TAB } from '../../constants/actionTypes';\r\nimport CertificateList from '../CertificateList';\r\n\r\n// const ExpiringTab = React.memo(props =>{\r\n//   const clickHandler = ev => {\r\n//     ev.preventDefault();\r\n//     props.onTabClick('expiring', agent.Articles.feed, agent.Articles.feed());\r\n//   }\r\n\r\n//   return (\r\n//     <li className=\"nav-item\">\r\n//       <a  href=\"#/\"\r\n//           className={ props.tab === 'expiring' ? 'nav-link active' : 'nav-link' }\r\n//           onClick={clickHandler}>\r\n//         Expiring Certificates\r\n//       </a>\r\n//     </li>\r\n//   );\r\n// });\r\n\r\n// const ExpiredTab = React.memo(props => {\r\n//   const clickHandler = ev => {\r\n//     ev.preventDefault();\r\n//     props.onTabClick('expired', agent.Articles.feed, agent.Articles.feed());\r\n//   }\r\n\r\n//   return (\r\n//     <li className=\"nav-item\">\r\n//       <a  href=\"#/\"\r\n//           className={ props.tab === 'expired' ? 'nav-link active' : 'nav-link' }\r\n//           onClick={clickHandler}>\r\n//        Expired Certificates\r\n//       </a>\r\n//     </li>\r\n//   );\r\n// });\r\n\r\n// const HealthyTab = React.memo(props => {\r\n//   const clickHandler = ev => {\r\n//     ev.preventDefault();\r\n//     props.onTabClick('healthy', agent.Articles.feed, agent.Articles.feed());\r\n//   }\r\n\r\n//   return (\r\n//     <li className=\"nav-item\">\r\n//       <a  href=\"#/\"\r\n//           className={ props.tab === 'healthy' ? 'nav-link active' : 'nav-link' }\r\n//           onClick={clickHandler}>\r\n//         Healthy Certificates\r\n//       </a>\r\n//     </li>\r\n//   );\r\n// });\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state,\r\n  tags: state.home.tags,\r\n  token: state.common.token,\r\n  certificates: state.home.certificates,\r\n  vessel: state.home.vessel,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onTabClick: (tab, payload) => dispatch({ type: CHANGE_TAB, tab, payload })\r\n});\r\n\r\nconst MainView = React.memo(props => {\r\n\r\n  if(!props.vessel){\r\n    return (\r\n      <div>\r\n        Select a vessel to see certificates\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <div className=\"col-md-9\">\r\n\r\n      <h2>{props.vessel.name}</h2>\r\n      {/* <div className=\"feed-toggle\">\r\n        <ul className=\"nav nav-pills outline-active\">\r\n\r\n          <ExpiringTab\r\n            token={props.token}\r\n            tab={props.tab}\r\n            onTabClick={props.onTabClick} />\r\n\r\n          <ExpiredTab tab={props.tab} onTabClick={props.onTabClick} />\r\n\r\n          <HealthyTab tag={props.tag} />\r\n\r\n        </ul>\r\n      </div> */}\r\n\r\n      <CertificateList\r\n        certificates={props.certificates}\r\n        loading={props.loading}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(MainView));","import Banner from './Banner';\r\nimport MainView from './MainView';\r\nimport React from 'react';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\n// import { Link } from 'react-router-dom';\r\nimport {\r\n  HOME_PAGE_LOADED,\r\n  HOME_PAGE_UNLOADED,\r\n  LOAD_CERTIFICATES,\r\n} from '../../constants/actionTypes';\r\n\r\nconst Promise = global.Promise;\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.home,\r\n  appName: state.common.appName,  \r\n  token: state.common.token,\r\n  vessels: state.common.vessels\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: (payload) =>\r\n    dispatch({ type: HOME_PAGE_LOADED, payload }),\r\n  onUnload: () =>\r\n    dispatch({  type: HOME_PAGE_UNLOADED }),\r\n  loadCertificates: (vessel) =>\r\n    dispatch({ type: LOAD_CERTIFICATES, payload: Promise.all([vessel, agent.Certificates.byVessel(vessel.id)]) }),\r\n  \r\n});\r\n\r\nclass Home extends React.PureComponent {\r\n\r\n  constructor() {\r\n    super();\r\n    this.onVesselClicked = item => {\r\n      this.props.loadCertificates(item);\r\n    } \r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.onLoad( Promise.all([agent.Vessels.all()]) );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n\r\n  render() {\r\n   \r\n    if(!this.props.vessels){\r\n      return (\"\");\r\n    }\r\n    \r\n    let items = [];\r\n    this.props.vessels.forEach( (item, index)=>{\r\n      items.push(\r\n      <li key={index}>\r\n          <a  href=\"#/\" value={item.id} onClick={()=>this.onVesselClicked(item)}>\r\n            {`${item.name}(${item.certificates_count})`}\r\n          </a>\r\n        {/* <a  href=\"#/\" to={`/users/${item.id}`} activeClassName=\"active\" value={item.id} onClick={this.onVesselClicked}>{item.name}</a> */}\r\n      </li>\r\n\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div className=\"home-page\">\r\n\r\n        <Banner token={this.props.token} appName={this.props.appName} />\r\n\r\n        <div className=\"container page\">\r\n          <div className=\"row\">\r\n          \r\n          <div className=\"col-md-3\">\r\n            <div className=\"sidebar\">\r\n              <p>Vessels</p>\r\n              {items}\r\n            </div>\r\n          </div>\r\n            \r\n            <MainView />\r\n\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n"],"sourceRoot":""}
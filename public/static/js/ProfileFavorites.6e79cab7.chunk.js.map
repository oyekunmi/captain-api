{"version":3,"sources":["components/Profile.js","components/ProfileFavorites.js"],"names":["EditProfileSettings","React","memo","props","isUser","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_8__","to","className","FollowUserButton","classes","user","following","onClick","ev","preventDefault","unfollow","username","follow","mapStateToProps","state","Object","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","articleList","currentUser","common","profile","Profile","this","onLoad","Promise","all","agent","get","match","params","Articles","byAuthor","onUnload","concat","src","image","alt","bio","onFollow","onUnfollow","renderTabs","_ArticleList__WEBPACK_IMPORTED_MODULE_6__","pager","articles","articlesCount","currentPage","PureComponent","connect","dispatch","type","FOLLOW_USER","payload","PROFILE_PAGE_LOADED","UNFOLLOW_USER","PROFILE_PAGE_UNLOADED","ProfileFavorites","_this","page","favoritedBy","react__WEBPACK_IMPORTED_MODULE_6___default","react_router_dom__WEBPACK_IMPORTED_MODULE_7__"],"mappings":"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","file":"static/js/ProfileFavorites.6e79cab7.chunk.js","sourcesContent":["import ArticleList from './ArticleList';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport agent from '../agent';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  FOLLOW_USER,\r\n  UNFOLLOW_USER,\r\n  PROFILE_PAGE_LOADED,\r\n  PROFILE_PAGE_UNLOADED\r\n} from '../constants/actionTypes';\r\n\r\nconst EditProfileSettings = React.memo(props => {\r\n  if (props.isUser) {\r\n    return (\r\n      <Link\r\n        to=\"/settings\"\r\n        className=\"btn btn-sm btn-outline-secondary action-btn\">\r\n        <i className=\"ion-gear-a\"></i> Edit Profile Settings\r\n      </Link>\r\n    );\r\n  }\r\n  return null;\r\n});\r\n\r\nconst FollowUserButton = React.memo(props => {\r\n  if (props.isUser) {\r\n    return null;\r\n  }\r\n\r\n  let classes = 'btn btn-sm action-btn';\r\n  if (props.user.following) {\r\n    classes += ' btn-secondary';\r\n  } else {\r\n    classes += ' btn-outline-secondary';\r\n  }\r\n\r\n  const handleClick = ev => {\r\n    ev.preventDefault();\r\n    if (props.user.following) {\r\n      props.unfollow(props.user.username)\r\n    } else {\r\n      props.follow(props.user.username)\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={classes}\r\n      onClick={handleClick}>\r\n      <i className=\"ion-plus-round\"></i>\r\n      &nbsp;\r\n      {props.user.following ? 'Unfollow' : 'Follow'} {props.user.username}\r\n    </button>\r\n  );\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.articleList,\r\n  currentUser: state.common.currentUser,\r\n  profile: state.profile\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onFollow: username => dispatch({\r\n    type: FOLLOW_USER,\r\n    payload: agent.Profile.follow(username)\r\n  }),\r\n  onLoad: payload => dispatch({ type: PROFILE_PAGE_LOADED, payload }),\r\n  onUnfollow: username => dispatch({\r\n    type: UNFOLLOW_USER,\r\n    payload: agent.Profile.unfollow(username)\r\n  }),\r\n  onUnload: () => dispatch({ type: PROFILE_PAGE_UNLOADED })\r\n});\r\n\r\nclass Profile extends React.PureComponent {\r\n  componentDidMount() {\r\n    this.props.onLoad(Promise.all([\r\n      agent.Profile.get(this.props.match.params.username),\r\n      agent.Articles.byAuthor(this.props.match.params.username)\r\n    ]));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  renderTabs() {\r\n    return (\r\n      <ul className=\"nav nav-pills outline-active\">\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"nav-link active\"\r\n            to={`/@${this.props.profile.username}`}>\r\n            My Articles\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"nav-link\"\r\n            to={`/@${this.props.profile.username}/favorites`}>\r\n            Favorited Articles\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const profile = this.props.profile;\r\n    if (!profile) {\r\n      return null;\r\n    }\r\n\r\n    const isUser = this.props.currentUser &&\r\n      this.props.profile.username === this.props.currentUser.username;\r\n\r\n    return (\r\n      <div className=\"profile-page\">\r\n\r\n        <div className=\"user-info\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-xs-12 col-md-10 offset-md-1\">\r\n\r\n                <img src={profile.image} className=\"user-img\" alt={profile.username} />\r\n                <h4>{profile.username}</h4>\r\n                <p>{profile.bio}</p>\r\n\r\n                <EditProfileSettings isUser={isUser} />\r\n                <FollowUserButton\r\n                  isUser={isUser}\r\n                  user={profile}\r\n                  follow={this.props.onFollow}\r\n                  unfollow={this.props.onUnfollow}\r\n                  />\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n\r\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\r\n\r\n              <div className=\"articles-toggle\">\r\n                {this.renderTabs()}\r\n              </div>\r\n\r\n              <ArticleList\r\n                pager={this.props.pager}\r\n                articles={this.props.articles}\r\n                articlesCount={this.props.articlesCount}\r\n                state={this.props.currentPage} />\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\nexport { Profile, mapStateToProps };\r\n","import { Profile, mapStateToProps } from './Profile';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport agent from '../agent';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  PROFILE_PAGE_LOADED,\r\n  PROFILE_PAGE_UNLOADED\r\n} from '../constants/actionTypes';\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: (pager, payload) =>\r\n    dispatch({ type: PROFILE_PAGE_LOADED, pager, payload }),\r\n  onUnload: () =>\r\n    dispatch({ type: PROFILE_PAGE_UNLOADED })\r\n});\r\n\r\nclass ProfileFavorites extends Profile {\r\n  componentDidMount() {\r\n    this.props.onLoad(page => agent.Articles.favoritedBy(this.props.match.params.username, page), Promise.all([\r\n      agent.Profile.get(this.props.match.params.username),\r\n      agent.Articles.favoritedBy(this.props.match.params.username)\r\n    ]));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  renderTabs() {\r\n    return (\r\n      <ul className=\"nav nav-pills outline-active\">\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"nav-link\"\r\n            to={`/@${this.props.profile.username}`}>\r\n            My Articles\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            className=\"nav-link active\"\r\n            to={`/@${this.props.profile.username}/favorites`}>\r\n            Favorited Articles\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileFavorites);\r\n"],"sourceRoot":""}
{"version":3,"sources":["components/ListErrors.js","components/Register.js"],"names":["ListErrors","errors","this","props","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","Object","keys","map","key","React","PureComponent","Register","_this","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","changeEmail","ev","onChangeEmail","target","value","changePassword","onChangePassword","changeUsername","onChangeUsername","submitForm","username","email","password","preventDefault","onSubmit","onUnload","react__WEBPACK_IMPORTED_MODULE_8___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","_ListErrors__WEBPACK_IMPORTED_MODULE_7__","type","placeholder","onChange","disabled","inProgress","connect","state","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","auth","dispatch","UPDATE_FIELD_AUTH","payload","agent","Auth","register","REGISTER","REGISTER_PAGE_UNLOADED"],"mappings":"qJAEMA,mLAEF,IAAMC,EAASC,KAAKC,MAAMF,OAC1B,OAAIA,EAEAG,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAEVC,OAAOC,KAAKR,GAAQS,IAAI,SAAAC,GACtB,OACEP,EAAAC,EAAAC,cAAA,MAAIK,IAAKA,GACNA,EADH,IACSV,EAAOU,OAQnB,YAlBYC,IAAMC,eAuBhBb,qJCGTc,cACJ,SAAAA,IAAc,IAAAC,EAAA,OAAAP,OAAAQ,EAAA,EAAAR,CAAAN,KAAAY,IACZC,EAAAP,OAAAS,EAAA,EAAAT,CAAAN,KAAAM,OAAAU,EAAA,EAAAV,CAAAM,GAAAK,KAAAjB,QACKkB,YAAc,SAAAC,GAAE,OAAIN,EAAKZ,MAAMmB,cAAcD,EAAGE,OAAOC,QAC5DT,EAAKU,eAAiB,SAAAJ,GAAE,OAAIN,EAAKZ,MAAMuB,iBAAiBL,EAAGE,OAAOC,QAClET,EAAKY,eAAiB,SAAAN,GAAE,OAAIN,EAAKZ,MAAMyB,iBAAiBP,EAAGE,OAAOC,QAClET,EAAKc,WAAa,SAACC,EAAUC,EAAOC,GAAlB,OAA+B,SAAAX,GAC/CA,EAAGY,iBACHlB,EAAKZ,MAAM+B,SAASJ,EAAUC,EAAOC,KAP3BjB,sFAYZb,KAAKC,MAAMgC,4CAIX,IAAMJ,EAAQ7B,KAAKC,MAAM4B,MACnBC,EAAW9B,KAAKC,MAAM6B,SACtBF,EAAW5B,KAAKC,MAAM2B,SAE5B,OACEM,EAAA/B,EAAAC,cAAA,OAAKC,UAAU,aACb6B,EAAA/B,EAAAC,cAAA,OAAKC,UAAU,kBACb6B,EAAA/B,EAAAC,cAAA,OAAKC,UAAU,OAEb6B,EAAA/B,EAAAC,cAAA,OAAKC,UAAU,kCACb6B,EAAA/B,EAAAC,cAAA,MAAIC,UAAU,kBAAd,WACA6B,EAAA/B,EAAAC,cAAA,KAAGC,UAAU,kBACX6B,EAAA/B,EAAAC,cAAC+B,EAAA,EAAD,CAAMC,GAAG,UAAT,qBAKFF,EAAA/B,EAAAC,cAACiC,EAAA,EAAD,CAAYtC,OAAQC,KAAKC,MAAMF,SAE/BmC,EAAA/B,EAAAC,cAAA,QAAM4B,SAAUhC,KAAK2B,WAAWC,EAAUC,EAAOC,IAC/CI,EAAA/B,EAAAC,cAAA,gBAEE8B,EAAA/B,EAAAC,cAAA,YAAUC,UAAU,cAClB6B,EAAA/B,EAAAC,cAAA,SACEC,UAAU,+BACViC,KAAK,OACLC,YAAY,WACZjB,MAAOtB,KAAKC,MAAM2B,SAClBY,SAAUxC,KAAKyB,kBAGnBS,EAAA/B,EAAAC,cAAA,YAAUC,UAAU,cAClB6B,EAAA/B,EAAAC,cAAA,SACEC,UAAU,+BACViC,KAAK,QACLC,YAAY,QACZjB,MAAOtB,KAAKC,MAAM4B,MAClBW,SAAUxC,KAAKkB,eAGnBgB,EAAA/B,EAAAC,cAAA,YAAUC,UAAU,cAClB6B,EAAA/B,EAAAC,cAAA,SACEC,UAAU,+BACViC,KAAK,WACLC,YAAY,WACZjB,MAAOtB,KAAKC,MAAM6B,SAClBU,SAAUxC,KAAKuB,kBAGnBW,EAAA/B,EAAAC,cAAA,UACEC,UAAU,uCACViC,KAAK,SACLG,SAAUzC,KAAKC,MAAMyC,YAHvB,wBAlEKhC,IAAMC,eAoFdgC,sBArGS,SAAAC,GAAK,OAAAtC,OAAAuC,EAAA,EAAAvC,CAAA,GAAUsC,EAAME,OAElB,SAAAC,GAAQ,MAAK,CACtC3B,cAAe,SAAAE,GAAK,OAClByB,EAAS,CAAET,KAAMU,IAAmBvC,IAAK,QAASa,WACpDE,iBAAkB,SAAAF,GAAK,OACrByB,EAAS,CAAET,KAAMU,IAAmBvC,IAAK,WAAYa,WACvDI,iBAAkB,SAAAJ,GAAK,OACrByB,EAAS,CAAET,KAAMU,IAAmBvC,IAAK,WAAYa,WACvDU,SAAU,SAACJ,EAAUC,EAAOC,GAC1B,IAAMmB,EAAUC,IAAMC,KAAKC,SAASxB,EAAUC,EAAOC,GACrDiB,EAAS,CAAET,KAAMe,IAAUJ,aAE7BhB,SAAU,kBACRc,EAAS,CAAET,KAAMgB,SAuFNX,CAA6C/B","file":"static/js/Register.52cfe2b9.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass ListErrors extends React.PureComponent {\r\n  render() {\r\n    const errors = this.props.errors;\r\n    if (errors) {\r\n      return (\r\n        <ul className=\"error-messages\">\r\n          {\r\n            Object.keys(errors).map(key => {\r\n              return (\r\n                <li key={key}>\r\n                  {key} {errors[key]}\r\n                </li>\r\n              );\r\n            })\r\n          }\r\n        </ul>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ListErrors;\r\n","import { Link } from 'react-router-dom';\r\nimport ListErrors from './ListErrors';\r\nimport React from 'react';\r\nimport agent from '../agent';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  UPDATE_FIELD_AUTH,\r\n  REGISTER,\r\n  REGISTER_PAGE_UNLOADED\r\n} from '../constants/actionTypes';\r\n\r\nconst mapStateToProps = state => ({ ...state.auth });\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onChangeEmail: value =>\r\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'email', value }),\r\n  onChangePassword: value =>\r\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'password', value }),\r\n  onChangeUsername: value =>\r\n    dispatch({ type: UPDATE_FIELD_AUTH, key: 'username', value }),\r\n  onSubmit: (username, email, password) => {\r\n    const payload = agent.Auth.register(username, email, password);\r\n    dispatch({ type: REGISTER, payload })\r\n  },\r\n  onUnload: () =>\r\n    dispatch({ type: REGISTER_PAGE_UNLOADED })\r\n});\r\n\r\nclass Register extends React.PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.changeEmail = ev => this.props.onChangeEmail(ev.target.value);\r\n    this.changePassword = ev => this.props.onChangePassword(ev.target.value);\r\n    this.changeUsername = ev => this.props.onChangeUsername(ev.target.value);\r\n    this.submitForm = (username, email, password) => ev => {\r\n      ev.preventDefault();\r\n      this.props.onSubmit(username, email, password);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  render() {\r\n    const email = this.props.email;\r\n    const password = this.props.password;\r\n    const username = this.props.username;\r\n\r\n    return (\r\n      <div className=\"auth-page\">\r\n        <div className=\"container page\">\r\n          <div className=\"row\">\r\n\r\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n              <h1 className=\"text-xs-center\">Sign Up</h1>\r\n              <p className=\"text-xs-center\">\r\n                <Link to=\"/login\">\r\n                  Have an account?\r\n                </Link>\r\n              </p>\r\n\r\n              <ListErrors errors={this.props.errors} />\r\n\r\n              <form onSubmit={this.submitForm(username, email, password)}>\r\n                <fieldset>\r\n\r\n                  <fieldset className=\"form-group\">\r\n                    <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"text\"\r\n                      placeholder=\"Username\"\r\n                      value={this.props.username}\r\n                      onChange={this.changeUsername} />\r\n                  </fieldset>\r\n\r\n                  <fieldset className=\"form-group\">\r\n                    <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"email\"\r\n                      placeholder=\"Email\"\r\n                      value={this.props.email}\r\n                      onChange={this.changeEmail} />\r\n                  </fieldset>\r\n\r\n                  <fieldset className=\"form-group\">\r\n                    <input\r\n                      className=\"form-control form-control-lg\"\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                      value={this.props.password}\r\n                      onChange={this.changePassword} />\r\n                  </fieldset>\r\n\r\n                  <button\r\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\r\n                    type=\"submit\"\r\n                    disabled={this.props.inProgress}>\r\n                    Sign up\r\n                  </button>\r\n\r\n                </fieldset>\r\n              </form>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\r\n"],"sourceRoot":""}
{"version":3,"sources":["components/ListErrors.js","components/Settings.js"],"names":["ListErrors","errors","this","props","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","Object","keys","map","key","React","PureComponent","SettingsForm","_this","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","state","image","username","bio","email","password","updateState","field","ev","newState","assign","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","target","value","setState","submitForm","preventDefault","user","onSubmitForm","_this$props$currentUs","currentUser","react__WEBPACK_IMPORTED_MODULE_8___default","onSubmit","type","placeholder","onChange","rows","disabled","inProgress","Settings","_ListErrors__WEBPACK_IMPORTED_MODULE_7__","onClick","onClickLogout","connect","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","settings","common","dispatch","LOGOUT","SETTINGS_SAVED","payload","agent","Auth","save","onUnload","SETTINGS_PAGE_UNLOADED"],"mappings":"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","file":"static/js/Settings.88fb0700.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass ListErrors extends React.PureComponent {\r\n  render() {\r\n    const errors = this.props.errors;\r\n    if (errors) {\r\n      return (\r\n        <ul className=\"error-messages\">\r\n          {\r\n            Object.keys(errors).map(key => {\r\n              return (\r\n                <li key={key}>\r\n                  {key} {errors[key]}\r\n                </li>\r\n              );\r\n            })\r\n          }\r\n        </ul>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ListErrors;\r\n","import ListErrors from './ListErrors';\r\nimport React from 'react';\r\nimport agent from '../agent';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  SETTINGS_SAVED,\r\n  SETTINGS_PAGE_UNLOADED,\r\n  LOGOUT\r\n} from '../constants/actionTypes';\r\n\r\nclass SettingsForm extends React.PureComponent {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      image: '',\r\n      username: '',\r\n      bio: '',\r\n      email: '',\r\n      password: ''\r\n    };\r\n\r\n    this.updateState = field => ev => {\r\n      const state = this.state;\r\n      const newState = Object.assign({}, state, { [field]: ev.target.value });\r\n      this.setState(newState);\r\n    };\r\n\r\n    this.submitForm = ev => {\r\n      ev.preventDefault();\r\n\r\n      const user = Object.assign({}, this.state);\r\n      if (!user.password) {\r\n        delete user.password;\r\n      }\r\n\r\n      this.props.onSubmitForm(user);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { image, username, bio, email } = this.props.currentUser\r\n\r\n    return (\r\n      <form onSubmit={this.submitForm}>\r\n        <fieldset>\r\n\r\n          <fieldset className=\"form-group\">\r\n            <input\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              placeholder=\"URL of profile picture\"\r\n              value={image}\r\n              onChange={this.updateState('image')} />\r\n          </fieldset>\r\n\r\n          <fieldset className=\"form-group\">\r\n            <input\r\n              className=\"form-control form-control-lg\"\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              value={username}\r\n              onChange={this.updateState('username')} />\r\n          </fieldset>\r\n\r\n          <fieldset className=\"form-group\">\r\n            <textarea\r\n              className=\"form-control form-control-lg\"\r\n              rows=\"8\"\r\n              placeholder=\"Short bio about you\"\r\n              value={bio}\r\n              onChange={this.updateState('bio')}>\r\n            </textarea>\r\n          </fieldset>\r\n\r\n          <fieldset className=\"form-group\">\r\n            <input\r\n              className=\"form-control form-control-lg\"\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={email}\r\n              onChange={this.updateState('email')} />\r\n          </fieldset>\r\n\r\n          <fieldset className=\"form-group\">\r\n            <input\r\n              className=\"form-control form-control-lg\"\r\n              type=\"password\"\r\n              placeholder=\"New Password\"\r\n              value={this.state.password}\r\n              onChange={this.updateState('password')} />\r\n          </fieldset>\r\n\r\n          <button\r\n            className=\"btn btn-lg btn-primary pull-xs-right\"\r\n            type=\"submit\"\r\n            disabled={this.state.inProgress}>\r\n            Update Settings\r\n          </button>\r\n\r\n        </fieldset>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.settings,\r\n  currentUser: state.common.currentUser\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onClickLogout: () => dispatch({ type: LOGOUT }),\r\n  onSubmitForm: user =>\r\n    dispatch({ type: SETTINGS_SAVED, payload: agent.Auth.save(user) }),\r\n  onUnload: () => dispatch({ type: SETTINGS_PAGE_UNLOADED })\r\n});\r\n\r\nclass Settings extends React.PureComponent {\r\n  render() {\r\n    return (\r\n      <div className=\"settings-page\">\r\n        <div className=\"container page\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n\r\n              <h1 className=\"text-xs-center\">Your Settings</h1>\r\n\r\n              <ListErrors errors={this.props.errors}></ListErrors>\r\n\r\n              <SettingsForm\r\n                currentUser={this.props.currentUser}\r\n                onSubmitForm={this.props.onSubmitForm} />\r\n\r\n              <hr />\r\n\r\n              <button\r\n                className=\"btn btn-outline-danger\"\r\n                onClick={this.props.onClickLogout}>\r\n                Or click here to logout.\r\n              </button>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\r\n"],"sourceRoot":""}
{"version":3,"sources":["constants/actionTypes.js","middleware.js","reducers/article.js","reducers/articleList.js","reducers/auth.js","reducers/common.js","reducers/editor.js","reducers/home.js","reducers/profile.js","reducers/settings.js","store.js","reducer.js","components/ArticlePreview.js","components/ListPagination.js","components/ArticleList.js","components/Home/index.js","components/Home/Banner.js","components/Home/MainView.js","components/Home/Tags.js","agent.js","components/Header.js","components/App.js","index.js"],"names":["__webpack_require__","d","__webpack_exports__","APP_LOAD","REDIRECT","ARTICLE_SUBMITTED","SETTINGS_SAVED","DELETE_ARTICLE","SETTINGS_PAGE_UNLOADED","HOME_PAGE_LOADED","HOME_PAGE_UNLOADED","ARTICLE_PAGE_LOADED","ARTICLE_PAGE_UNLOADED","ADD_COMMENT","DELETE_COMMENT","ARTICLE_FAVORITED","ARTICLE_UNFAVORITED","SET_PAGE","APPLY_TAG_FILTER","CHANGE_TAB","PROFILE_PAGE_LOADED","PROFILE_PAGE_UNLOADED","LOGIN","LOGOUT","REGISTER","LOGIN_PAGE_UNLOADED","REGISTER_PAGE_UNLOADED","ASYNC_START","ASYNC_END","EDITOR_PAGE_LOADED","EDITOR_PAGE_UNLOADED","ADD_TAG","REMOVE_TAG","UPDATE_FIELD_AUTH","UPDATE_FIELD_EDITOR","FOLLOW_USER","UNFOLLOW_USER","PROFILE_FAVORITES_PAGE_UNLOADED","PROFILE_FAVORITES_PAGE_LOADED","promiseMiddleware","store","next","action","v","payload","then","dispatch","type","subtype","currentView","getState","viewChangeCounter","skipTracking","res","currentState","console","log","promise","error","response","body","localStorageMiddleware","window","localStorage","setItem","user","token","agent","setToken","reducers_article","state","arguments","length","undefined","Object","objectSpread","article","comments","commentErrors","errors","concat","comment","commentId","filter","id","articleList","articles","map","slug","favorited","favoritesCount","articlesCount","currentPage","page","pager","tab","tag","tags","auth","inProgress","defineProperty","key","value","defaultState","appName","common","appLoaded","currentUser","redirectTo","redirectUrl","editor","articleSlug","title","description","tagInput","tagList","home","profile","settings","store_history","store_store","history","createBrowserHistory","myRouterMiddleware","routerMiddleware","createStore","combineReducers","router","connectRouter","composeWithDevTools","applyMiddleware","ArticlePreview","React","memo","props","favoriteButtonClass","react_default","a","createElement","className","react_router_dom","to","author","username","src","image","alt","Date","createdAt","toDateString","onClick","ev","preventDefault","unfavorite","favorite","connect","Articles","ListPagination","range","i","Math","ceil","push","isCurrent","onSetPage","all","toString","href","ArticleList","components_ArticlePreview","components_ListPagination","Promise","global","Home","this","articlesPromise","feed","onLoad","Tags","getAll","onUnload","react__WEBPACK_IMPORTED_MODULE_8___default","_Banner__WEBPACK_IMPORTED_MODULE_6__","_MainView__WEBPACK_IMPORTED_MODULE_7__","_Tags__WEBPACK_IMPORTED_MODULE_9__","onClickTag","PureComponent","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_ref","toLowerCase","YourFeedTab","react__WEBPACK_IMPORTED_MODULE_2___default","onTabClick","GlobalFeedTab","TagFilterTab","MainView","_ArticleList__WEBPACK_IMPORTED_MODULE_1__","loading","F_code_captain_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","_agent__WEBPACK_IMPORTED_MODULE_1__","byTag","superagent_promise__WEBPACK_IMPORTED_MODULE_0__","superagent_promise__WEBPACK_IMPORTED_MODULE_0___default","superagent__WEBPACK_IMPORTED_MODULE_1__","superagent__WEBPACK_IMPORTED_MODULE_1___default","superagent","superagentPromise","_superagent","API_ROOT","VESSEL_API_ROOT","encode","encodeURIComponent","responseBody","tokenPlugin","req","set","requests","url","del","use","get","put","post","vesselRequests","Auth","current","login","email","password","register","save","limit","count","p","omitSlug","assign","byAuthor","favoritedBy","update","create","Comments","delete","forArticle","Vessels","Certificates","byVessel","Profile","follow","unfollow","_token","LoggedOutView","LoggedInView","Header","Article","lazy","e","bind","Editor","Login","ProfileFavorites","Register","Settings","App","prevProps","onRedirect","getItem","components_Header","react","fallback","react_router","exact","path","component","ReactDOM","render","es","esm","document","getElementById"],"mappings":"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","file":"static/js/main.5645daae.chunk.js","sourcesContent":["export const APP_LOAD = 'APP_LOAD';\r\nexport const REDIRECT = 'REDIRECT';\r\nexport const ARTICLE_SUBMITTED = 'ARTICLE_SUBMITTED';\r\nexport const SETTINGS_SAVED = 'SETTINGS_SAVED';\r\nexport const DELETE_ARTICLE = 'DELETE_ARTICLE';\r\nexport const SETTINGS_PAGE_UNLOADED = 'SETTINGS_PAGE_UNLOADED';\r\nexport const HOME_PAGE_LOADED = 'HOME_PAGE_LOADED';\r\nexport const HOME_PAGE_UNLOADED = 'HOME_PAGE_UNLOADED';\r\nexport const ARTICLE_PAGE_LOADED = 'ARTICLE_PAGE_LOADED';\r\nexport const ARTICLE_PAGE_UNLOADED = 'ARTICLE_PAGE_UNLOADED';\r\nexport const ADD_COMMENT = 'ADD_COMMENT';\r\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\r\nexport const ARTICLE_FAVORITED = 'ARTICLE_FAVORITED';\r\nexport const ARTICLE_UNFAVORITED = 'ARTICLE_UNFAVORITED';\r\nexport const SET_PAGE = 'SET_PAGE';\r\nexport const APPLY_TAG_FILTER = 'APPLY_TAG_FILTER';\r\nexport const CHANGE_TAB = 'CHANGE_TAB';\r\nexport const PROFILE_PAGE_LOADED = 'PROFILE_PAGE_LOADED';\r\nexport const PROFILE_PAGE_UNLOADED = 'PROFILE_PAGE_UNLOADED';\r\nexport const LOGIN = 'LOGIN';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const REGISTER = 'REGISTER';\r\nexport const LOGIN_PAGE_UNLOADED = 'LOGIN_PAGE_UNLOADED';\r\nexport const REGISTER_PAGE_UNLOADED = 'REGISTER_PAGE_UNLOADED';\r\nexport const ASYNC_START = 'ASYNC_START';\r\nexport const ASYNC_END = 'ASYNC_END';\r\nexport const EDITOR_PAGE_LOADED = 'EDITOR_PAGE_LOADED';\r\nexport const EDITOR_PAGE_UNLOADED = 'EDITOR_PAGE_UNLOADED';\r\nexport const ADD_TAG = 'ADD_TAG';\r\nexport const REMOVE_TAG = 'REMOVE_TAG';\r\nexport const UPDATE_FIELD_AUTH = 'UPDATE_FIELD_AUTH';\r\nexport const UPDATE_FIELD_EDITOR = 'UPDATE_FIELD_EDITOR';\r\nexport const FOLLOW_USER = 'FOLLOW_USER';\r\nexport const UNFOLLOW_USER = 'UNFOLLOW_USER';\r\nexport const PROFILE_FAVORITES_PAGE_UNLOADED = 'PROFILE_FAVORITES_PAGE_UNLOADED';\r\nexport const PROFILE_FAVORITES_PAGE_LOADED = 'PROFILE_FAVORITES_PAGE_LOADED';\r\nexport const VESSEL_PAGE_LOADED = 'VESSEL_PAGE_LOADED';","import agent from './agent';\r\nimport {\r\n  ASYNC_START,\r\n  ASYNC_END,\r\n  LOGIN,\r\n  LOGOUT,\r\n  REGISTER\r\n} from './constants/actionTypes';\r\n\r\nconst promiseMiddleware = store => next => action => {\r\n  if (isPromise(action.payload)) {\r\n    store.dispatch({ type: ASYNC_START, subtype: action.type });\r\n\r\n    const currentView = store.getState().viewChangeCounter;\r\n    const skipTracking = action.skipTracking;\r\n\r\n    action.payload.then(\r\n      res => {\r\n        const currentState = store.getState()\r\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\r\n          return\r\n        }\r\n        console.log('RESULT', res);\r\n        action.payload = res;\r\n        store.dispatch({ type: ASYNC_END, promise: action.payload });\r\n        store.dispatch(action);\r\n      },\r\n      error => {\r\n        const currentState = store.getState()\r\n        if (!skipTracking && currentState.viewChangeCounter !== currentView) {\r\n          return\r\n        }\r\n        console.log('ERROR', error);\r\n        action.error = true;\r\n        action.payload = error.response.body;\r\n        if (!action.skipTracking) {\r\n          store.dispatch({ type: ASYNC_END, promise: action.payload });\r\n        }\r\n        store.dispatch(action);\r\n      }\r\n    );\r\n\r\n    return;\r\n  }\r\n\r\n  next(action);\r\n};\r\n\r\nconst localStorageMiddleware = store => next => action => {\r\n  if (action.type === REGISTER || action.type === LOGIN) {\r\n    if (!action.error) {\r\n      window.localStorage.setItem('jwt', action.payload.user.token);\r\n      agent.setToken(action.payload.user.token);\r\n    }\r\n  } else if (action.type === LOGOUT) {\r\n    window.localStorage.setItem('jwt', '');\r\n    agent.setToken(null);\r\n  }\r\n\r\n  next(action);\r\n};\r\n\r\nfunction isPromise(v) {\r\n  return v && typeof v.then === 'function';\r\n}\r\n\r\n\r\nexport { promiseMiddleware, localStorageMiddleware }\r\n","import {\r\n  ARTICLE_PAGE_LOADED,\r\n  ARTICLE_PAGE_UNLOADED,\r\n  ADD_COMMENT,\r\n  DELETE_COMMENT\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ARTICLE_PAGE_LOADED:\r\n      return {\r\n        ...state,\r\n        article: action.payload[0].article,\r\n        comments: action.payload[1].comments\r\n      };\r\n    case ARTICLE_PAGE_UNLOADED:\r\n      return {};\r\n    case ADD_COMMENT:\r\n      return {\r\n        ...state,\r\n        commentErrors: action.error ? action.payload.errors : null,\r\n        comments: action.error ?\r\n          null :\r\n          (state.comments || []).concat([action.payload.comment])\r\n      };\r\n    case DELETE_COMMENT:\r\n      const commentId = action.commentId\r\n      return {\r\n        ...state,\r\n        comments: state.comments.filter(comment => comment.id !== commentId)\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  ARTICLE_FAVORITED,\r\n  ARTICLE_UNFAVORITED,\r\n  SET_PAGE,\r\n  APPLY_TAG_FILTER,\r\n  HOME_PAGE_LOADED,\r\n  HOME_PAGE_UNLOADED,\r\n  CHANGE_TAB,\r\n  PROFILE_PAGE_LOADED,\r\n  PROFILE_PAGE_UNLOADED,\r\n  PROFILE_FAVORITES_PAGE_LOADED,\r\n  PROFILE_FAVORITES_PAGE_UNLOADED\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ARTICLE_FAVORITED:\r\n    case ARTICLE_UNFAVORITED:\r\n      return {\r\n        ...state,\r\n        articles: state.articles.map(article => {\r\n          if (article.slug === action.payload.article.slug) {\r\n            return {\r\n              ...article,\r\n              favorited: action.payload.article.favorited,\r\n              favoritesCount: action.payload.article.favoritesCount\r\n            };\r\n          }\r\n          return article;\r\n        })\r\n      };\r\n    case SET_PAGE:\r\n      return {\r\n        ...state,\r\n        articles: action.payload.articles,\r\n        articlesCount: action.payload.articlesCount,\r\n        currentPage: action.page\r\n      };\r\n    case APPLY_TAG_FILTER:\r\n      return {\r\n        ...state,\r\n        pager: action.pager,\r\n        articles: action.payload.articles,\r\n        articlesCount: action.payload.articlesCount,\r\n        tab: null,\r\n        tag: action.tag,\r\n        currentPage: 0\r\n      };\r\n    case HOME_PAGE_LOADED:\r\n      return {\r\n        ...state,\r\n        pager: action.pager,\r\n        tags: action.payload[0].tags,\r\n        articles: action.payload[1].articles,\r\n        articlesCount: action.payload[1].articlesCount,\r\n        currentPage: 0,\r\n        tab: action.tab\r\n      };\r\n    case HOME_PAGE_UNLOADED:\r\n      return {};\r\n    case CHANGE_TAB:\r\n      return {\r\n        ...state,\r\n        pager: action.pager,\r\n        articles: action.payload.articles,\r\n        articlesCount: action.payload.articlesCount,\r\n        tab: action.tab,\r\n        currentPage: 0,\r\n        tag: null\r\n      };\r\n    case PROFILE_PAGE_LOADED:\r\n    case PROFILE_FAVORITES_PAGE_LOADED:\r\n      return {\r\n        ...state,\r\n        pager: action.pager,\r\n        articles: action.payload[1].articles,\r\n        articlesCount: action.payload[1].articlesCount,\r\n        currentPage: 0\r\n      };\r\n    case PROFILE_PAGE_UNLOADED:\r\n    case PROFILE_FAVORITES_PAGE_UNLOADED:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  LOGIN,\r\n  REGISTER,\r\n  LOGIN_PAGE_UNLOADED,\r\n  REGISTER_PAGE_UNLOADED,\r\n  ASYNC_START,\r\n  UPDATE_FIELD_AUTH\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case LOGIN:\r\n    case REGISTER:\r\n      return {\r\n        ...state,\r\n        inProgress: false,\r\n        errors: action.error ? action.payload.errors : null\r\n      };\r\n    case LOGIN_PAGE_UNLOADED:\r\n    case REGISTER_PAGE_UNLOADED:\r\n      return {};\r\n    case ASYNC_START:\r\n      if (action.subtype === LOGIN || action.subtype === REGISTER) {\r\n        return { ...state, inProgress: true };\r\n      }\r\n      break;\r\n    case UPDATE_FIELD_AUTH:\r\n      return { ...state, [action.key]: action.value };\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  return state;\r\n};\r\n","import {\r\n  APP_LOAD,\r\n  REDIRECT,\r\n  LOGOUT,\r\n  ARTICLE_SUBMITTED,\r\n  SETTINGS_SAVED,\r\n  LOGIN,\r\n  REGISTER,\r\n  DELETE_ARTICLE,\r\n  ARTICLE_PAGE_UNLOADED,\r\n  EDITOR_PAGE_UNLOADED,\r\n  HOME_PAGE_UNLOADED,\r\n  PROFILE_PAGE_UNLOADED,\r\n  PROFILE_FAVORITES_PAGE_UNLOADED,\r\n  SETTINGS_PAGE_UNLOADED,\r\n  LOGIN_PAGE_UNLOADED,\r\n  REGISTER_PAGE_UNLOADED\r\n} from '../constants/actionTypes';\r\n\r\nconst defaultState = {\r\n  appName: 'Captain',\r\n  token: null,\r\n  viewChangeCounter: 0\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case APP_LOAD:\r\n      return {\r\n        ...state,\r\n        token: action.token || null,\r\n        appLoaded: true,\r\n        currentUser: action.payload ? action.payload.user : null\r\n      };\r\n    case REDIRECT:\r\n      return { ...state, redirectTo: null };\r\n    case LOGOUT:\r\n      return { ...state, redirectTo: '/', token: null, currentUser: null };\r\n    case ARTICLE_SUBMITTED:\r\n      const redirectUrl = `/article/${action.payload.article.slug}`;\r\n      return { ...state, redirectTo: redirectUrl };\r\n    case SETTINGS_SAVED:\r\n      return {\r\n        ...state,\r\n        redirectTo: action.error ? null : '/',\r\n        currentUser: action.error ? null : action.payload.user\r\n      };\r\n    case LOGIN:\r\n    case REGISTER:\r\n      return {\r\n        ...state,\r\n        redirectTo: action.error ? null : '/',\r\n        token: action.error ? null : action.payload.user.token,\r\n        currentUser: action.error ? null : action.payload.user\r\n      };\r\n    case DELETE_ARTICLE:\r\n      return { ...state, redirectTo: '/' };\r\n    case ARTICLE_PAGE_UNLOADED:\r\n    case EDITOR_PAGE_UNLOADED:\r\n    case HOME_PAGE_UNLOADED:\r\n    case PROFILE_PAGE_UNLOADED:\r\n    case PROFILE_FAVORITES_PAGE_UNLOADED:\r\n    case SETTINGS_PAGE_UNLOADED:\r\n    case LOGIN_PAGE_UNLOADED:\r\n    case REGISTER_PAGE_UNLOADED:\r\n      return { ...state, viewChangeCounter: state.viewChangeCounter + 1 };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  EDITOR_PAGE_LOADED,\r\n  EDITOR_PAGE_UNLOADED,\r\n  ARTICLE_SUBMITTED,\r\n  ASYNC_START,\r\n  ADD_TAG,\r\n  REMOVE_TAG,\r\n  UPDATE_FIELD_EDITOR\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case EDITOR_PAGE_LOADED:\r\n      return {\r\n        ...state,\r\n        articleSlug: action.payload ? action.payload.article.slug : '',\r\n        title: action.payload ? action.payload.article.title : '',\r\n        description: action.payload ? action.payload.article.description : '',\r\n        body: action.payload ? action.payload.article.body : '',\r\n        tagInput: '',\r\n        tagList: action.payload ? action.payload.article.tagList : []\r\n      };\r\n    case EDITOR_PAGE_UNLOADED:\r\n      return {};\r\n    case ARTICLE_SUBMITTED:\r\n      return {\r\n        ...state,\r\n        inProgress: null,\r\n        errors: action.error ? action.payload.errors : null\r\n      };\r\n    case ASYNC_START:\r\n      if (action.subtype === ARTICLE_SUBMITTED) {\r\n        return { ...state, inProgress: true };\r\n      }\r\n      break;\r\n    case ADD_TAG:\r\n      return {\r\n        ...state,\r\n        tagList: state.tagList.concat([state.tagInput]),\r\n        tagInput: ''\r\n      };\r\n    case REMOVE_TAG:\r\n      return {\r\n        ...state,\r\n        tagList: state.tagList.filter(tag => tag !== action.tag)\r\n      };\r\n    case UPDATE_FIELD_EDITOR:\r\n      return { ...state, [action.key]: action.value };\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  return state;\r\n};\r\n","import { HOME_PAGE_LOADED, HOME_PAGE_UNLOADED } from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case HOME_PAGE_LOADED:\r\n      return {\r\n        ...state,\r\n        tags: action.payload[0].tags\r\n      };\r\n    case HOME_PAGE_UNLOADED:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  PROFILE_PAGE_LOADED,\r\n  PROFILE_PAGE_UNLOADED,\r\n  FOLLOW_USER,\r\n  UNFOLLOW_USER\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case PROFILE_PAGE_LOADED:\r\n      return {\r\n        ...action.payload[0].profile\r\n      };\r\n    case PROFILE_PAGE_UNLOADED:\r\n      return {};\r\n    case FOLLOW_USER:\r\n    case UNFOLLOW_USER:\r\n      return {\r\n        ...action.payload.profile\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SETTINGS_SAVED,\r\n  SETTINGS_PAGE_UNLOADED,\r\n  ASYNC_START\r\n} from '../constants/actionTypes';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case SETTINGS_SAVED:\r\n      return {\r\n        ...state,\r\n        inProgress: false,\r\n        errors: action.error ? action.payload.errors : null\r\n      };\r\n    case SETTINGS_PAGE_UNLOADED:\r\n      return {};\r\n    case ASYNC_START:\r\n      return {\r\n        ...state,\r\n        inProgress: true\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport { createLogger } from 'redux-logger'\r\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\r\nimport { promiseMiddleware, localStorageMiddleware } from './middleware';\r\nimport createRootReducer from './reducer';\r\n\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport { createBrowserHistory} from 'history';\r\n\r\nexport const history = createBrowserHistory();\r\n\r\n// Build the middleware for intercepting and dispatching navigation actions\r\nconst myRouterMiddleware = routerMiddleware(history);\r\n\r\nconst getMiddleware = () => {\r\n  if (process.env.NODE_ENV === 'production') {\r\n    return applyMiddleware(myRouterMiddleware, promiseMiddleware, localStorageMiddleware);\r\n  } else {\r\n    // Enable additional logging in non-production environments.\r\n    return applyMiddleware(myRouterMiddleware, promiseMiddleware, localStorageMiddleware, createLogger())\r\n  }\r\n};\r\n\r\nexport const store = createStore(\r\n  createRootReducer(history), composeWithDevTools(getMiddleware()));\r\n","import article from './reducers/article';\r\nimport articleList from './reducers/articleList';\r\nimport auth from './reducers/auth';\r\nimport { combineReducers } from 'redux';\r\nimport common from './reducers/common';\r\nimport editor from './reducers/editor';\r\nimport home from './reducers/home';\r\nimport profile from './reducers/profile';\r\nimport settings from './reducers/settings';\r\nimport { connectRouter } from 'connected-react-router';\r\n\r\nexport default (history) => combineReducers({\r\n  article,\r\n  articleList,\r\n  auth,\r\n  common,\r\n  editor,\r\n  home,\r\n  profile,\r\n  settings,\r\n  router: connectRouter(history)\r\n});\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport agent from '../agent';\r\nimport { connect } from 'react-redux';\r\nimport { ARTICLE_FAVORITED, ARTICLE_UNFAVORITED } from '../constants/actionTypes';\r\n\r\nconst FAVORITED_CLASS = 'btn btn-sm btn-primary';\r\nconst NOT_FAVORITED_CLASS = 'btn btn-sm btn-outline-primary';\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  favorite: slug => dispatch({\r\n    type: ARTICLE_FAVORITED,\r\n    payload: agent.Articles.favorite(slug)\r\n  }),\r\n  unfavorite: slug => dispatch({\r\n    type: ARTICLE_UNFAVORITED,\r\n    payload: agent.Articles.unfavorite(slug)\r\n  })\r\n});\r\n\r\nconst ArticlePreview = React.memo(props => {\r\n  const article = props.article;\r\n  const favoriteButtonClass = article.favorited ?\r\n    FAVORITED_CLASS :\r\n    NOT_FAVORITED_CLASS;\r\n\r\n  const handleClick = ev => {\r\n    ev.preventDefault();\r\n    if (article.favorited) {\r\n      props.unfavorite(article.slug);\r\n    } else {\r\n      props.favorite(article.slug);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"article-preview\">\r\n      <div className=\"article-meta\">\r\n        <Link to={`/@${article.author.username}`}>\r\n          <img src={article.author.image} alt={article.author.username} />\r\n        </Link>\r\n\r\n        <div className=\"info\">\r\n          <Link className=\"author\" to={`/@${article.author.username}`}>\r\n            {article.author.username}\r\n          </Link>\r\n          <span className=\"date\">\r\n            {new Date(article.createdAt).toDateString()}\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"pull-xs-right\">\r\n          <button className={favoriteButtonClass} onClick={handleClick}>\r\n            <i className=\"ion-heart\"></i> {article.favoritesCount}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <Link to={`/article/${article.slug}`} className=\"preview-link\">\r\n        <h1>{article.title}</h1>\r\n        <p>{article.description}</p>\r\n        <span>Read more...</span>\r\n        <ul className=\"tag-list\">\r\n          {\r\n            article.tagList.map(tag => {\r\n              return (\r\n                <li className=\"tag-default tag-pill tag-outline\" key={tag}>\r\n                  {tag}\r\n                </li>\r\n              )\r\n            })\r\n          }\r\n        </ul>\r\n      </Link>\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default connect(() => ({}), mapDispatchToProps)(ArticlePreview);\r\n","import React from 'react';\r\nimport agent from '../agent';\r\nimport { connect } from 'react-redux';\r\nimport { SET_PAGE } from '../constants/actionTypes';\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onSetPage: (page, payload) =>\r\n    dispatch({ type: SET_PAGE, page, payload })\r\n});\r\n\r\nconst ListPagination = React.memo(props => {\r\n  if (props.articlesCount <= 10) {\r\n    return null;\r\n  }\r\n\r\n  const range = [];\r\n  for (let i = 0; i < Math.ceil(props.articlesCount / 10); ++i) {\r\n    range.push(i);\r\n  }\r\n\r\n  const setPage = page => {\r\n    if(props.pager) {\r\n      props.onSetPage(page, props.pager(page));\r\n    }else {\r\n      props.onSetPage(page, agent.Articles.all(page))\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination\">\r\n\r\n        {\r\n          range.map(v => {\r\n            const isCurrent = v === props.currentPage;\r\n            const onClick = ev => {\r\n              ev.preventDefault();\r\n              setPage(v);\r\n            };\r\n            return (\r\n              <li\r\n                className={ isCurrent ? 'page-item active' : 'page-item' }\r\n                onClick={onClick}\r\n                key={v.toString()}>\r\n\r\n                <a className=\"page-link\" href=\"\">{v + 1}</a>\r\n\r\n              </li>\r\n            );\r\n          })\r\n        }\r\n\r\n      </ul>\r\n    </nav>\r\n  );\r\n});\r\n\r\nexport default connect(() => ({}), mapDispatchToProps)(ListPagination);\r\n","import ArticlePreview from './ArticlePreview';\r\nimport ListPagination from './ListPagination';\r\nimport React from 'react';\r\n\r\nconst ArticleList = React.memo(props => {\r\n  if (!props.articles) {\r\n    return (\r\n      <div className=\"article-preview\">Loading...</div>\r\n    );\r\n  }\r\n\r\n  if (props.articles.length === 0) {\r\n    return (\r\n      <div className=\"article-preview\">\r\n        No articles are here... yet.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        props.articles.map(article => {\r\n          return (\r\n            <ArticlePreview article={article} key={article.slug} />\r\n          );\r\n        })\r\n      }\r\n\r\n      <ListPagination\r\n        pager={props.pager}\r\n        articlesCount={props.articlesCount}\r\n        currentPage={props.currentPage} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ArticleList;\r\n","import Banner from './Banner';\r\nimport MainView from './MainView';\r\nimport React from 'react';\r\nimport Tags from './Tags';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  HOME_PAGE_LOADED,\r\n  HOME_PAGE_UNLOADED,\r\n  APPLY_TAG_FILTER\r\n} from '../../constants/actionTypes';\r\nimport { store } from '../../store';\r\nimport { push } from 'connected-react-router'\r\n\r\nconst Promise = global.Promise;\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.home,\r\n  appName: state.common.appName,\r\n  token: state.common.token\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onClickTag: (tag, pager, payload) =>\r\n    dispatch({ type: APPLY_TAG_FILTER, tag, pager, payload }),\r\n  onLoad: (tab, pager, payload) =>\r\n    dispatch({ type: HOME_PAGE_LOADED, tab, pager, payload }),\r\n  onUnload: () =>\r\n    dispatch({  type: HOME_PAGE_UNLOADED })\r\n});\r\n\r\nclass Home extends React.PureComponent {\r\n  componentDidMount() {\r\n    const tab = this.props.token ? 'feed' : 'all';\r\n    const articlesPromise = this.props.token ?\r\n      agent.Articles.feed :\r\n      agent.Articles.all;\r\n\r\n    this.props.onLoad(tab, articlesPromise, Promise.all([agent.Tags.getAll(), articlesPromise()]));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.onUnload();\r\n  }\r\n\r\n  render() {\r\n    if( !this.props.token)\r\n      store.dispatch(push('/login'))\r\n\r\n    return (\r\n      <div className=\"home-page\">\r\n\r\n        <Banner token={this.props.token} appName={this.props.appName} />\r\n\r\n        <div className=\"container page\">\r\n          <div className=\"row\">\r\n            <MainView />\r\n\r\n            <div className=\"col-md-3\">\r\n              <div className=\"sidebar\">\r\n\r\n                <p>Popular Tags</p>\r\n\r\n                <Tags\r\n                  tags={this.props.tags}\r\n                  onClickTag={this.props.onClickTag} />\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import React from 'react';\r\n\r\nconst Banner = ({ appName, token }) => {\r\n  if (token) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"banner\">\r\n      <div className=\"container\">\r\n        <h1 className=\"logo-font\">\r\n          {appName.toLowerCase()}\r\n        </h1>\r\n        <p>A place to share your knowledge.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Banner);\r\n","import ArticleList from '../ArticleList';\r\nimport React from 'react';\r\nimport agent from '../../agent';\r\nimport { connect } from 'react-redux';\r\nimport { CHANGE_TAB } from '../../constants/actionTypes';\r\n\r\nconst YourFeedTab = React.memo(props => {\r\n  if (props.token) {\r\n    const clickHandler = ev => {\r\n      ev.preventDefault();\r\n      props.onTabClick('feed', agent.Articles.feed, agent.Articles.feed());\r\n    }\r\n\r\n    return (\r\n      <li className=\"nav-item\">\r\n        <a  href=\"\"\r\n            className={ props.tab === 'feed' ? 'nav-link active' : 'nav-link' }\r\n            onClick={clickHandler}>\r\n          Your Feed\r\n        </a>\r\n      </li>\r\n    );\r\n  }\r\n  return null;\r\n});\r\n\r\nconst GlobalFeedTab = React.memo(props => {\r\n  const clickHandler = ev => {\r\n    ev.preventDefault();\r\n    props.onTabClick('all', agent.Articles.all, agent.Articles.all());\r\n  };\r\n  return (\r\n    <li className=\"nav-item\">\r\n      <a\r\n        href=\"\"\r\n        className={ props.tab === 'all' ? 'nav-link active' : 'nav-link' }\r\n        onClick={clickHandler}>\r\n        Global Feed\r\n      </a>\r\n    </li>\r\n  );\r\n});\r\n\r\nconst TagFilterTab = React.memo(props => {\r\n  if (!props.tag) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <li className=\"nav-item\">\r\n      <a href=\"\" className=\"nav-link active\">\r\n        <i className=\"ion-pound\"></i> {props.tag}\r\n      </a>\r\n    </li>\r\n  );\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.articleList,\r\n  tags: state.home.tags,\r\n  token: state.common.token\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onTabClick: (tab, pager, payload) => dispatch({ type: CHANGE_TAB, tab, pager, payload })\r\n});\r\n\r\nconst MainView = React.memo(props => {\r\n  return (\r\n    <div className=\"col-md-9\">\r\n      <div className=\"feed-toggle\">\r\n        <ul className=\"nav nav-pills outline-active\">\r\n\r\n          <YourFeedTab\r\n            token={props.token}\r\n            tab={props.tab}\r\n            onTabClick={props.onTabClick} />\r\n\r\n          <GlobalFeedTab tab={props.tab} onTabClick={props.onTabClick} />\r\n\r\n          <TagFilterTab tag={props.tag} />\r\n\r\n        </ul>\r\n      </div>\r\n\r\n      <ArticleList\r\n        pager={props.pager}\r\n        articles={props.articles}\r\n        loading={props.loading}\r\n        articlesCount={props.articlesCount}\r\n        currentPage={props.currentPage} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(MainView));\r\n","import React from 'react';\r\nimport agent from '../../agent';\r\n\r\nconst Tags = React.memo(props => {\r\n  const tags = props.tags;\r\n  if (tags) {\r\n    return (\r\n      <div className=\"tag-list\">\r\n        {\r\n          tags.map(tag => {\r\n            const handleClick = ev => {\r\n              ev.preventDefault();\r\n              props.onClickTag(tag, page => agent.Articles.byTag(tag, page), agent.Articles.byTag(tag));\r\n            };\r\n\r\n            return (\r\n              <a\r\n                href=\"\"\r\n                className=\"tag-default tag-pill\"\r\n                key={tag}\r\n                onClick={handleClick}>\r\n                {tag}\r\n              </a>\r\n            );\r\n          })\r\n        }\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div>Loading Tags...</div>\r\n    );\r\n  }\r\n});\r\n\r\nexport default Tags;\r\n","import superagentPromise from 'superagent-promise';\r\nimport _superagent from 'superagent';\r\n\r\nconst superagent = superagentPromise(_superagent, global.Promise);\r\n\r\nconst API_ROOT = 'https://conduit.productionready.io/api';\r\nconst VESSEL_API_ROOT = 'http://captain.moovelogic.com/public/api';\r\n\r\nconst encode = encodeURIComponent;\r\nconst responseBody = res => res.body;\r\n\r\nlet token = null;\r\nconst tokenPlugin = req => {\r\n  if (token) {\r\n    req.set('authorization', `Token ${token}`);\r\n    req.set('Authorization', `Bearer ${token}`);\r\n  }\r\n}\r\n\r\nconst requests = {\r\n  del: url =>\r\n    superagent.del(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\r\n  get: url =>\r\n    superagent.get(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\r\n  put: (url, body) =>\r\n    superagent.put(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody),\r\n  post: (url, body) =>\r\n    superagent.post(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody)\r\n};\r\n\r\nconst vesselRequests = {\r\n  del: url =>\r\n    superagent.del(`${VESSEL_API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\r\n  get: url =>\r\n    superagent.get(`${VESSEL_API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\r\n  put: (url, body) =>\r\n    superagent.put(`${VESSEL_API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody),\r\n  post: (url, body) =>\r\n    superagent.post(`${VESSEL_API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody)\r\n};\r\n\r\n\r\nconst Auth = {\r\n  current: () =>\r\n    requests.get('/user'),\r\n  login: (email, password) =>\r\n    requests.post('/users/login', { user: { email, password } }),\r\n  register: (username, email, password) =>\r\n    requests.post('/users', { user: { username, email, password } }),\r\n  save: user =>\r\n    requests.put('/user', { user })\r\n};\r\n\r\nconst Tags = {\r\n  getAll: () => requests.get('/tags')\r\n};\r\n\r\nconst limit = (count, p) => `limit=${count}&offset=${p ? p * count : 0}`;\r\nconst omitSlug = article => Object.assign({}, article, { slug: undefined })\r\nconst Articles = {\r\n  all: page =>\r\n    requests.get(`/articles?${limit(10, page)}`),\r\n  byAuthor: (author, page) =>\r\n    requests.get(`/articles?author=${encode(author)}&${limit(5, page)}`),\r\n  byTag: (tag, page) =>\r\n    requests.get(`/articles?tag=${encode(tag)}&${limit(10, page)}`),\r\n  del: slug =>\r\n    requests.del(`/articles/${slug}`),\r\n  favorite: slug =>\r\n    requests.post(`/articles/${slug}/favorite`),\r\n  favoritedBy: (author, page) =>\r\n    requests.get(`/articles?favorited=${encode(author)}&${limit(5, page)}`),\r\n  feed: () =>\r\n    requests.get('/articles/feed?limit=10&offset=0'),\r\n  get: slug =>\r\n    requests.get(`/articles/${slug}`),\r\n  unfavorite: slug =>\r\n    requests.del(`/articles/${slug}/favorite`),\r\n  update: article =>\r\n    requests.put(`/articles/${article.slug}`, { article: omitSlug(article) }),\r\n  create: article =>\r\n    requests.post('/articles', { article })\r\n};\r\n\r\nconst Comments = {\r\n  create: (slug, comment) =>\r\n    requests.post(`/articles/${slug}/comments`, { comment }),\r\n  delete: (slug, commentId) =>\r\n    requests.del(`/articles/${slug}/comments/${commentId}`),\r\n  forArticle: slug =>\r\n    requests.get(`/articles/${slug}/comments`)\r\n};\r\n\r\nconst Vessels = {\r\n  all: () =>  vesselRequests.get('/vessels'),\r\n  get: (id) => vesselRequests.get(`/vessels/${id}`),\r\n};\r\n\r\nconst Certificates = {\r\n  byVessel: (id) => vesselRequests.get(`/vessels/${id}/certificates`)\r\n}\r\n\r\nconst Profile = {\r\n  follow: username =>\r\n    requests.post(`/profiles/${username}/follow`),\r\n  get: username =>\r\n    requests.get(`/profiles/${username}`),\r\n  unfollow: username =>\r\n    requests.del(`/profiles/${username}/follow`)\r\n};\r\n\r\nexport default {\r\n  Articles,\r\n  Auth,\r\n  Comments,\r\n  Profile,\r\n  Tags,\r\n  Vessels,\r\n  Certificates,\r\n  setToken: _token => { token = _token; }\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst LoggedOutView = React.memo(props => {\r\n  if (!props.currentUser) {\r\n    return (\r\n      <ul className=\"nav navbar-nav pull-xs-right\">\r\n\r\n        <li className=\"nav-item\">\r\n          <Link to=\"/\" className=\"nav-link\">\r\n            Home\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link to=\"/login\" className=\"nav-link\">\r\n            Sign in\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link to=\"/register\" className=\"nav-link\">\r\n            Sign up\r\n          </Link>\r\n        </li>\r\n\r\n      </ul>\r\n    );\r\n  }\r\n  return null;\r\n});\r\n\r\nconst LoggedInView = React.memo(props => {\r\n  if (props.currentUser) {\r\n    return (\r\n      <ul className=\"nav navbar-nav pull-xs-right\">\r\n\r\n        <li className=\"nav-item\">\r\n          <Link to=\"/\" className=\"nav-link\">\r\n            Home\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link to=\"/editor\" className=\"nav-link\">\r\n            <i className=\"ion-compose\"></i>&nbsp;New Post\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link to=\"/settings\" className=\"nav-link\">\r\n            <i className=\"ion-gear-a\"></i>&nbsp;Settings\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            to={`/@${props.currentUser.username}`}\r\n            className=\"nav-link\">\r\n            <img src={props.currentUser.image} className=\"user-pic\" alt={props.currentUser.username} />\r\n            {props.currentUser.username}\r\n          </Link>\r\n        </li>\r\n\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  return null;\r\n});\r\n\r\nclass Header extends React.PureComponent {\r\n  render() {\r\n    return (\r\n      <nav className=\"navbar navbar-light\">\r\n        <div className=\"container\">\r\n\r\n          <Link to=\"/\" className=\"navbar-brand\">\r\n            {this.props.appName.toLowerCase()}\r\n          </Link>\r\n\r\n          <LoggedOutView currentUser={this.props.currentUser} />\r\n\r\n          <LoggedInView currentUser={this.props.currentUser} />\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import agent from '../agent'\r\nimport Header from './Header'\r\nimport React, { lazy, Suspense } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { APP_LOAD, REDIRECT } from '../constants/actionTypes'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport { store } from '../store'\r\nimport { push } from 'connected-react-router'\r\n// const Home = lazy(() => import('../components/Home'/* webpackChunkName: \"Home\", webpackPreload: true  */))\r\nimport Home from '../components/Home'\r\nconst Article = lazy(() => import('../components/Article' /* webpackChunkName: \"Article\", webpackPrefetch: true  */))\r\nconst Editor = lazy(() => import('../components/Editor'/* webpackChunkName: \"Editor\", webpackPrefetch: true  */))\r\nconst Login = lazy(() => import('../components/Login'/* webpackChunkName: \"Login\", webpackPrefetch: true  */))\r\nconst Profile = lazy(() => import('../components/Profile'/* webpackChunkName: \"Profile\", webpackPrefetch: true  */))\r\nconst ProfileFavorites = lazy(() => import('../components/ProfileFavorites'/* webpackChunkName: \"ProfileFavorites\", webpackPrefetch: true  */))\r\nconst Register = lazy(() => import('../components/Register'/* webpackChunkName: \"Register\", webpackPrefetch: true  */))\r\nconst Settings = lazy(() => import('../components/Settings'/* webpackChunkName: \"Settings\", webpackPrefetch: true  */))\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    appLoaded: state.common.appLoaded,\r\n    appName: state.common.appName,\r\n    currentUser: state.common.currentUser,\r\n    redirectTo: state.common.redirectTo\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onLoad: (payload, token) =>\r\n    dispatch({ type: APP_LOAD, payload, token, skipTracking: true }),\r\n  onRedirect: () =>\r\n    dispatch({ type: REDIRECT })\r\n})\r\n\r\nclass App extends React.PureComponent {\r\n  componentDidUpdate (prevProps) {\r\n    if (this.props.redirectTo && this.props.redirectTo !== prevProps.redirectTo) {\r\n      // this.context.router.replace(this.props.redirectTo);\r\n      store.dispatch(push(this.props.redirectTo))\r\n      this.props.onRedirect()\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    const token = window.localStorage.getItem('jwt')\r\n    if (token) {\r\n      agent.setToken(token)\r\n    }\r\n\r\n    this.props.onLoad(token ? agent.Auth.current() : null, token)\r\n  }\r\n\r\n  render () {\r\n    if (this.props.appLoaded) {\r\n      return (\r\n        <div>\r\n          <Header\r\n            appName={this.props.appName}\r\n            currentUser={this.props.currentUser} />\r\n            <Suspense fallback={<p>Loading...</p>}>\r\n              <Switch>\r\n                <Route exact path='/' component={Home} />\r\n                <Route path='/login' component={Login} />\r\n                <Route path='/register' component={Register} />\r\n                <Route path='/editor/:slug' component={Editor} />\r\n                <Route path='/editor' component={Editor} />\r\n                <Route path='/article/:id' component={Article} />\r\n                <Route path='/settings' component={Settings} />\r\n                <Route path='/@:username/favorites' component={ProfileFavorites} />\r\n                <Route path='/@:username' component={Profile} />\r\n              </Switch>\r\n            </Suspense>\r\n        </div>\r\n      )\r\n    }\r\n    return (\r\n      <div>\r\n        <Header\r\n          appName={this.props.appName}\r\n          currentUser={this.props.currentUser} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// App.contextTypes = {\r\n//   router: PropTypes.object.isRequired\r\n// };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\r\n","import ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport React from 'react';\r\nimport { store, history} from './store';\r\n\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { ConnectedRouter } from 'connected-react-router';\r\n\r\nimport App from './components/App';\r\n\r\nReactDOM.render((\r\n  <Provider store={store}>\r\n    <ConnectedRouter history={history}>\r\n      <Switch>\r\n        <Route path=\"/\" component={App} />\r\n      </Switch>\r\n    </ConnectedRouter>\r\n  </Provider>\r\n\r\n), document.getElementById('root'));\r\n"],"sourceRoot":""}